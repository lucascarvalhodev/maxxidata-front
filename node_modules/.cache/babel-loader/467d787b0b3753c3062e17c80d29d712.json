{"ast":null,"code":"import _slicedToArray from\"/home/lucas/lucas/gopress/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{useHistory}from\"react-router-dom\";import{Spinner}from\"reactstrap\";import Button from\"../../../components/Button\";import FormProfessional from\"../../../components/form/FormProfessional\";import{AppRouteName}from\"../../../routes/AppRouteName\";import{createProfessional}from\"../../../services/professionals\";import{getTypeOfProfessionals}from\"../../../services/typeOfProfessionals\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreateProfessional=function CreateProfessional(){var history=useHistory();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),typeOfProfessionals=_useState2[0],setTypeOfProfessionals=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loadingData=_useState6[0],setLoadingData=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),alert=_useState8[0],setAlert=_useState8[1];function save(value,action){setLoading(true);createProfessional(value).then(function(res){action.resetForm();history.push(\"\".concat(AppRouteName.SHOW_PROFESSIONAL,\"/\").concat(res.data.id));}).catch(function(err){setAlert(err.response.data.message);}).finally(function(){setLoading(false);});}function back(){history.goBack();}function init(){setLoadingData(true);getTypeOfProfessionals().then(function(res){setLoadingData(false);setTypeOfProfessionals(res.data);});}useEffect(init,[]);if(loadingData){return/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-100 d-flex justify-content-center align-items-center\",children:/*#__PURE__*/_jsx(Spinner,{color:\"primary\"})})})});}return/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title mb-3\",children:\"Create Professional\"}),alert&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-primary\",children:alert}),/*#__PURE__*/_jsx(FormProfessional,{loading:loading,onSubmit:save,typeOfProfessionals:typeOfProfessionals}),/*#__PURE__*/_jsx(Button,{onClick:back,className:\"btn-block\",children:\"Back\"})]})});};export default CreateProfessional;","map":{"version":3,"sources":["/home/lucas/lucas/gopress/src/pages/app/professionals/CreateProfessional.tsx"],"names":["React","useEffect","useState","useHistory","Spinner","Button","FormProfessional","AppRouteName","createProfessional","getTypeOfProfessionals","CreateProfessional","history","typeOfProfessionals","setTypeOfProfessionals","loading","setLoading","loadingData","setLoadingData","alert","setAlert","save","value","action","then","res","resetForm","push","SHOW_PROFESSIONAL","data","id","catch","err","response","message","finally","back","goBack","init"],"mappings":"gJACA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,OAAT,KAAwB,YAAxB,CAGA,MAAOC,CAAAA,MAAP,KAAmB,4BAAnB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,2CAA7B,CACA,OAASC,YAAT,KAA6B,8BAA7B,CACA,OAASC,kBAAT,KAAmC,iCAAnC,CACA,OAASC,sBAAT,KAAuC,uCAAvC,C,wFAEA,GAAMC,CAAAA,kBAA4B,CAAG,QAA/BA,CAAAA,kBAA+B,EAAM,CACzC,GAAMC,CAAAA,OAAO,CAAGR,UAAU,EAA1B,CADyC,cAEaD,QAAQ,CAE5D,EAF4D,CAFrB,wCAElCU,mBAFkC,eAEbC,sBAFa,8BAKXX,QAAQ,CAAC,KAAD,CALG,yCAKlCY,OALkC,eAKzBC,UALyB,8BAMHb,QAAQ,CAAC,KAAD,CANL,yCAMlCc,WANkC,eAMrBC,cANqB,8BAOff,QAAQ,CAAC,EAAD,CAPO,yCAOlCgB,KAPkC,eAO3BC,QAP2B,eASzC,QAASC,CAAAA,IAAT,CAAcC,KAAd,CAAoCC,MAApC,CAA0E,CACxEP,UAAU,CAAC,IAAD,CAAV,CACAP,kBAAkB,CAACa,KAAD,CAAlB,CACGE,IADH,CACQ,SAACC,GAAD,CAAS,CACbF,MAAM,CAACG,SAAP,GACAd,OAAO,CAACe,IAAR,WAAgBnB,YAAY,CAACoB,iBAA7B,aAAkDH,GAAG,CAACI,IAAJ,CAASC,EAA3D,GACD,CAJH,EAKGC,KALH,CAKS,SAACC,GAAD,CAAS,CACdZ,QAAQ,CAACY,GAAG,CAACC,QAAJ,CAAaJ,IAAb,CAAkBK,OAAnB,CAAR,CACD,CAPH,EAQGC,OARH,CAQW,UAAM,CACbnB,UAAU,CAAC,KAAD,CAAV,CACD,CAVH,EAWD,CAED,QAASoB,CAAAA,IAAT,EAAgB,CACdxB,OAAO,CAACyB,MAAR,GACD,CAED,QAASC,CAAAA,IAAT,EAAgB,CACdpB,cAAc,CAAC,IAAD,CAAd,CACAR,sBAAsB,GAAGc,IAAzB,CAA8B,SAACC,GAAD,CAAS,CACrCP,cAAc,CAAC,KAAD,CAAd,CACAJ,sBAAsB,CAACW,GAAG,CAACI,IAAL,CAAtB,CACD,CAHD,EAID,CAED3B,SAAS,CAACoC,IAAD,CAAO,EAAP,CAAT,CAEA,GAAIrB,WAAJ,CAAiB,CACf,mBACE,YAAK,SAAS,CAAC,MAAf,uBACE,YAAK,SAAS,CAAC,WAAf,uBACE,YAAK,SAAS,CAAC,wDAAf,uBACE,KAAC,OAAD,EAAS,KAAK,CAAC,SAAf,EADF,EADF,EADF,EADF,CASD,CAED,mBACE,YAAK,SAAS,CAAC,MAAf,uBACE,aAAK,SAAS,CAAC,WAAf,wBACE,YAAK,SAAS,CAAC,YAAf,iCADF,CAEGE,KAAK,eAAI,YAAK,SAAS,CAAC,qBAAf,UAAsCA,KAAtC,EAFZ,cAGE,KAAC,gBAAD,EACE,OAAO,CAAEJ,OADX,CAEE,QAAQ,CAAEM,IAFZ,CAGE,mBAAmB,CAAER,mBAHvB,EAHF,cAQE,KAAC,MAAD,EAAQ,OAAO,CAAEuB,IAAjB,CAAuB,SAAS,CAAC,WAAjC,kBARF,GADF,EADF,CAgBD,CAlED,CAoEA,cAAezB,CAAAA,kBAAf","sourcesContent":["import { FormikHelpers } from \"formik\";\nimport React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Spinner } from \"reactstrap\";\nimport { IProfessional } from \"../../../alias/IProfessional\";\nimport { ITypeOfProfessional } from \"../../../alias/ITypeOfProfessional\";\nimport Button from \"../../../components/Button\";\nimport FormProfessional from \"../../../components/form/FormProfessional\";\nimport { AppRouteName } from \"../../../routes/AppRouteName\";\nimport { createProfessional } from \"../../../services/professionals\";\nimport { getTypeOfProfessionals } from \"../../../services/typeOfProfessionals\";\n\nconst CreateProfessional: React.FC = () => {\n  const history = useHistory();\n  const [typeOfProfessionals, setTypeOfProfessionals] = useState<\n    ITypeOfProfessional[]\n  >([]);\n  const [loading, setLoading] = useState(false);\n  const [loadingData, setLoadingData] = useState(false);\n  const [alert, setAlert] = useState(\"\");\n\n  function save(value: IProfessional, action: FormikHelpers<IProfessional>) {\n    setLoading(true);\n    createProfessional(value)\n      .then((res) => {\n        action.resetForm();\n        history.push(`${AppRouteName.SHOW_PROFESSIONAL}/${res.data.id}`);\n      })\n      .catch((err) => {\n        setAlert(err.response.data.message);\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  }\n\n  function back() {\n    history.goBack();\n  }\n\n  function init() {\n    setLoadingData(true);\n    getTypeOfProfessionals().then((res) => {\n      setLoadingData(false);\n      setTypeOfProfessionals(res.data);\n    });\n  }\n\n  useEffect(init, []);\n\n  if (loadingData) {\n    return (\n      <div className=\"card\">\n        <div className=\"card-body\">\n          <div className=\"w-100 d-flex justify-content-center align-items-center\">\n            <Spinner color=\"primary\" />\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"card\">\n      <div className=\"card-body\">\n        <div className=\"title mb-3\">Create Professional</div>\n        {alert && <div className=\"alert alert-primary\">{alert}</div>}\n        <FormProfessional\n          loading={loading}\n          onSubmit={save}\n          typeOfProfessionals={typeOfProfessionals}\n        />\n        <Button onClick={back} className=\"btn-block\">\n          Back\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default CreateProfessional;\n"]},"metadata":{},"sourceType":"module"}