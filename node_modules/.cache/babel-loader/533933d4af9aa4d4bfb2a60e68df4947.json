{"ast":null,"code":"import _slicedToArray from\"/home/lucas/lucas/gopress/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{useHistory,useParams}from\"react-router-dom\";import{Spinner}from\"reactstrap\";import Button from\"../../../components/Button\";import FormProfessional from\"../../../components/form/FormProfessional\";import{AppRouteName}from\"../../../routes/AppRouteName\";import{editProfessional as eP,getProfessional}from\"../../../services/professionals\";import{getTypeOfProfessionals}from\"../../../services/typeOfProfessionals\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditProfessional=function EditProfessional(){var _useParams=useParams(),id=_useParams.id;var history=useHistory();var _useState=useState(),_useState2=_slicedToArray(_useState,2),professinal=_useState2[0],setProfessional=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),typeOfProfessionals=_useState4[0],setTypeOfProfessionals=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),alert=_useState8[0],setAlert=_useState8[1];function edit(value,action){setLoading(true);eP(id,value).then(function(res){action.resetForm();history.push(\"\".concat(AppRouteName.SHOW_PROFESSIONAL,\"/\").concat(id));}).catch(function(err){setAlert(err.response.data.message);}).finally(function(){setLoading(false);});}function back(){history.goBack();}function init(){getProfessional(id).then(function(res){setProfessional(res.data);});getTypeOfProfessionals().then(function(res){setTypeOfProfessionals(res.data);});}useEffect(init,[id]);if(!professinal||!typeOfProfessionals){return/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-100 d-flex justify-content-center align-items-center\",children:/*#__PURE__*/_jsx(Spinner,{color:\"primary\"})})})});}return/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title mb-3\",children:\"Edit Professional\"}),alert&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-primary\",children:alert}),/*#__PURE__*/_jsx(FormProfessional,{loading:loading,onSubmit:edit,initialValues:professinal,typeOfProfessionals:typeOfProfessionals}),/*#__PURE__*/_jsx(Button,{onClick:back,className:\"btn-block\",children:\"Back\"})]})});};export default EditProfessional;","map":{"version":3,"sources":["/home/lucas/lucas/gopress/src/pages/app/professionals/EditProfessional.tsx"],"names":["React","useEffect","useState","useHistory","useParams","Spinner","Button","FormProfessional","AppRouteName","editProfessional","eP","getProfessional","getTypeOfProfessionals","EditProfessional","id","history","professinal","setProfessional","typeOfProfessionals","setTypeOfProfessionals","loading","setLoading","alert","setAlert","edit","value","action","then","res","resetForm","push","SHOW_PROFESSIONAL","catch","err","response","data","message","finally","back","goBack","init"],"mappings":"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","sourcesContent":["import { FormikHelpers } from \"formik\";\nimport React, { useEffect, useState } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { Spinner } from \"reactstrap\";\nimport { IProfessional } from \"../../../alias/IProfessional\";\nimport { ITypeOfProfessional } from \"../../../alias/ITypeOfProfessional\";\nimport Button from \"../../../components/Button\";\nimport FormProfessional from \"../../../components/form/FormProfessional\";\nimport { AppRouteName } from \"../../../routes/AppRouteName\";\nimport {\n  editProfessional as eP,\n  getProfessional,\n} from \"../../../services/professionals\";\nimport { getTypeOfProfessionals } from \"../../../services/typeOfProfessionals\";\n\ninterface IParams {\n  id: string;\n}\n\nconst EditProfessional: React.FC = () => {\n  const { id } = useParams<IParams>();\n  const history = useHistory();\n  const [professinal, setProfessional] = useState<IProfessional | undefined>();\n  const [typeOfProfessionals, setTypeOfProfessionals] = useState<\n    ITypeOfProfessional[]\n  >([]);\n  const [loading, setLoading] = useState(false);\n  const [alert, setAlert] = useState(\"\");\n\n  function edit(value: IProfessional, action: FormikHelpers<IProfessional>) {\n    setLoading(true);\n    eP(id, value)\n      .then((res) => {\n        action.resetForm();\n        history.push(`${AppRouteName.SHOW_PROFESSIONAL}/${id}`);\n      })\n      .catch((err) => {\n        setAlert(err.response.data.message);\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  }\n\n  function back() {\n    history.goBack();\n  }\n\n  function init() {\n    getProfessional(id).then((res) => {\n      setProfessional(res.data);\n    });\n    getTypeOfProfessionals().then((res) => {\n      setTypeOfProfessionals(res.data);\n    });\n  }\n\n  useEffect(init, [id]);\n\n  if (!professinal || !typeOfProfessionals) {\n    return (\n      <div className=\"card\">\n        <div className=\"card-body\">\n          <div className=\"w-100 d-flex justify-content-center align-items-center\">\n            <Spinner color=\"primary\" />\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"card\">\n      <div className=\"card-body\">\n        <div className=\"title mb-3\">Edit Professional</div>\n        {alert && <div className=\"alert alert-primary\">{alert}</div>}\n        <FormProfessional\n          loading={loading}\n          onSubmit={edit}\n          initialValues={professinal}\n          typeOfProfessionals={typeOfProfessionals}\n        />\n        <Button onClick={back} className=\"btn-block\">\n          Back\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default EditProfessional;\n"]},"metadata":{},"sourceType":"module"}