{"code":"(this.webpackJsonpgopress=this.webpackJsonpgopress||[]).push([[13],{112:function(e,t,n){\"use strict\";n(1);var s=n(102),a=n(3);t.a=function(e){var t=e.type,n=void 0===t?\"button\":t,c=e.className,i=e.onClick,r=e.loading,l=void 0!==r&&r,o=e.children,d=e.disabled,m=void 0!==d&&d;return Object(a.jsx)(\"button\",{type:n,className:\"btn btn-primary \"+c,onClick:function(){!l&&i&&i()},disabled:l||m,children:l?Object(a.jsx)(\"div\",{className:\"d-flex justify-content-center align-items-center\",style:{height:20},children:Object(a.jsx)(s.a,{color:\"white\",size:\"sm\"})}):Object(a.jsx)(\"div\",{children:o})})}},125:function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return c})),n.d(t,\"c\",(function(){return i})),n.d(t,\"a\",(function(){return r}));var s=n(24),a=n.n(s),c=function(e){return a.a.post(\"/auth/sign-in\",e)},i=function(e){return a.a.post(\"/auth/sign-up\",e)},r=function(){return a.a.get(\"/auth/me\")}},283:function(e,t,n){\"use strict\";n.r(t);var s=n(27),a=n(1),c=n(21),i=n(120),r=n(121),l=n(112),o=n(3),d=r.b().shape({email:r.c().email().min(4).max(150).required(),password:r.c().min(4).max(150).required()}),m=function(e){var t=e.onSubmit,n=e.loading;return Object(o.jsx)(i.d,{initialValues:{email:\"lucasdecarvalho13@hotmail.com\",password:\"123123\"},validationSchema:d,onSubmit:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,n){t(e,n)})),children:Object(o.jsxs)(i.c,{children:[Object(o.jsxs)(\"div\",{className:\"form-group\",children:[Object(o.jsx)(\"label\",{htmlFor:\"emailInput\",children:\"Email address\"}),Object(o.jsx)(i.b,{name:\"email\",\"data-testid\":\"email\",type:\"email\",className:\"form-control\",id:\"emailInput\",placeholder:\"Enter email\"}),Object(o.jsx)(\"small\",{className:\"form-text text-danger\",children:Object(o.jsx)(i.a,{name:\"email\"})})]}),Object(o.jsxs)(\"div\",{className:\"form-group\",children:[Object(o.jsx)(\"label\",{htmlFor:\"passwordInput\",children:\"Password\"}),Object(o.jsx)(i.b,{name:\"password\",\"data-testid\":\"password\",type:\"password\",className:\"form-control\",id:\"passwordInput\",placeholder:\"Enter password\"}),Object(o.jsx)(\"small\",{className:\"form-text text-danger\",children:Object(o.jsx)(i.a,{name:\"password\"})})]}),Object(o.jsx)(l.a,{type:\"submit\",loading:n,className:\"btn-block mt-4 mb-3\",children:\"Submit\"})]})})},b=n(26),u=n(28),j=n(125),h=n(45);t.default=function(){var e=Object(c.b)().setUser,t=Object(a.useState)(!1),n=Object(s.a)(t,2),i=n[0],r=n[1],l=Object(a.useState)(\"\"),d=Object(s.a)(l,2),p=d[0],x=d[1];return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)(\"div\",{className:\"d-flex flex-column justify-content-center align-items-center\",children:[Object(o.jsxs)(\"div\",{className:\"mb-2\",children:[\"Welcome to \",Object(o.jsx)(\"span\",{className:\"text-primary\",children:\"GoPress\"})]}),Object(o.jsx)(\"div\",{className:\"h4 mb-3\",children:\"Sign In\"})]}),p&&Object(o.jsx)(\"div\",{className:\"alert alert-primary\",children:p}),Object(o.jsx)(m,{onSubmit:function(t,n){r(!0),Object(j.b)(t).then((function(t){Object(h.a)(t.data.token),Object(j.a)().then((function(t){n.resetForm(),e(t.data)})).finally((function(){r(!1)}))})).catch((function(e){console.log(e),x(e.response.data.message),r(!1)}))},loading:i}),Object(o.jsx)(b.b,{to:u.a.REGISTER,className:\"btn btn-white btn-block\",children:Object(o.jsx)(\"div\",{className:\"text-primary\",children:\"Register\"})})]})}}}]);","name":"static/js/13.8f018562.chunk.js","map":{"version":3,"sources":["static/js/13.8f018562.chunk.js"],"names":["this","push","112","module","__webpack_exports__","__webpack_require__","reactstrap__WEBPACK_IMPORTED_MODULE_1__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__","_ref","_ref$type","type","className","onClick","_ref$loading","loading","children","_ref$disabled","disabled","Object","style","height","color","size","125","d","signIn","signUp","me","axios__WEBPACK_IMPORTED_MODULE_0__","axios__WEBPACK_IMPORTED_MODULE_0___default","n","data","a","post","get","283","r","slicedToArray","react","AuthContext","formik_esm","es","Button","jsx_runtime","schema","shape","email","min","max","required","password","form_FormSignIn","onSubmit","initialValues","validationSchema","_onSubmit","_x","_x2","apply","arguments","toString","values","action","htmlFor","name","data-testid","id","placeholder","react_router_dom","AuthRouteName","auth","authToken","setUser","_useState","_useState2","setLoading","_useState3","_useState4","alert","setAlert","value","then","res","token","resetForm","finally","catch","err","console","log","response","message","to","REGISTER"],"mappings":"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"},"input":"(this[\"webpackJsonpgopress\"] = this[\"webpackJsonpgopress\"] || []).push([[13],{\n\n/***/ 112:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var reactstrap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(102);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(3);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__);\nvar Button=function Button(_ref){var _ref$type=_ref.type,type=_ref$type===void 0?\"button\":_ref$type,className=_ref.className,onClick=_ref.onClick,_ref$loading=_ref.loading,loading=_ref$loading===void 0?false:_ref$loading,children=_ref.children,_ref$disabled=_ref.disabled,disabled=_ref$disabled===void 0?false:_ref$disabled;function Action(){if(!loading&&onClick){onClick();}}return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(\"button\",{type:type,className:\"btn btn-primary \"+className,onClick:Action,disabled:loading||disabled,children:loading?/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(\"div\",{className:\"d-flex justify-content-center align-items-center\",style:{height:20},children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(reactstrap__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"],{color:\"white\",size:\"sm\"})}):/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(\"div\",{children:children})});};/* harmony default export */ __webpack_exports__[\"a\"] = (Button);\n\n/***/ }),\n\n/***/ 125:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return signIn; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return signUp; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return me; });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(24);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);\nvar signIn=function signIn(data){return axios__WEBPACK_IMPORTED_MODULE_0___default.a.post(\"/auth/sign-in\",data);};var signUp=function signUp(data){return axios__WEBPACK_IMPORTED_MODULE_0___default.a.post(\"/auth/sign-up\",data);};var me=function me(){return axios__WEBPACK_IMPORTED_MODULE_0___default.a.get(\"/auth/me\");};\n\n/***/ }),\n\n/***/ 283:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(27);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\n\n// EXTERNAL MODULE: ./src/contexts/AuthContext.tsx\nvar AuthContext = __webpack_require__(21);\n\n// EXTERNAL MODULE: ./node_modules/formik/dist/formik.esm.js + 114 modules\nvar formik_esm = __webpack_require__(120);\n\n// EXTERNAL MODULE: ./node_modules/yup/es/index.js + 46 modules\nvar es = __webpack_require__(121);\n\n// EXTERNAL MODULE: ./src/components/Button.tsx\nvar Button = __webpack_require__(112);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(3);\n\n// CONCATENATED MODULE: ./src/components/form/FormSignIn.tsx\nvar schema=es[\"b\" /* object */]().shape({email:es[\"c\" /* string */]().email().min(4).max(150).required(),password:es[\"c\" /* string */]().min(4).max(150).required()});var FormSignIn_FormSignIn=function FormSignIn(_ref){var onSubmit=_ref.onSubmit,loading=_ref.loading;var initialValues={email:\"lucasdecarvalho13@hotmail.com\",password:\"123123\"};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(formik_esm[\"d\" /* Formik */],{initialValues:initialValues,validationSchema:schema,onSubmit:function(_onSubmit){function onSubmit(_x,_x2){return _onSubmit.apply(this,arguments);}onSubmit.toString=function(){return _onSubmit.toString();};return onSubmit;}(function(values,action){onSubmit(values,action);}),children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(formik_esm[\"c\" /* Form */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"emailInput\",children:\"Email address\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(formik_esm[\"b\" /* Field */],{name:\"email\",\"data-testid\":\"email\",type:\"email\",className:\"form-control\",id:\"emailInput\",placeholder:\"Enter email\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"small\",{className:\"form-text text-danger\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(formik_esm[\"a\" /* ErrorMessage */],{name:\"email\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"passwordInput\",children:\"Password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(formik_esm[\"b\" /* Field */],{name:\"password\",\"data-testid\":\"password\",type:\"password\",className:\"form-control\",id:\"passwordInput\",placeholder:\"Enter password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"small\",{className:\"form-text text-danger\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(formik_esm[\"a\" /* ErrorMessage */],{name:\"password\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{type:\"submit\",loading:loading,className:\"btn-block mt-4 mb-3\",children:\"Submit\"})]})});};/* harmony default export */ var form_FormSignIn = (FormSignIn_FormSignIn);\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(26);\n\n// EXTERNAL MODULE: ./src/routes/AuthRouteName.ts\nvar AuthRouteName = __webpack_require__(28);\n\n// EXTERNAL MODULE: ./src/services/auth.ts\nvar auth = __webpack_require__(125);\n\n// EXTERNAL MODULE: ./src/helpers/authToken.ts\nvar authToken = __webpack_require__(45);\n\n// CONCATENATED MODULE: ./src/pages/auth/signIn/SignIn.tsx\nvar SignIn_SignIn=function SignIn(){var _useAuth=Object(AuthContext[\"b\" /* useAuth */])(),setUser=_useAuth.setUser;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),alert=_useState4[0],setAlert=_useState4[1];function login(value,action){setLoading(true);Object(auth[\"b\" /* signIn */])(value).then(function(res){Object(authToken[\"a\" /* setTokenAuthorization */])(res.data.token);Object(auth[\"a\" /* me */])().then(function(res){action.resetForm();setUser(res.data);}).finally(function(){setLoading(false);});}).catch(function(err){console.log(err);setAlert(err.response.data.message);setLoading(false);});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"d-flex flex-column justify-content-center align-items-center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"mb-2\",children:[\"Welcome to \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"text-primary\",children:\"GoPress\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"h4 mb-3\",children:\"Sign In\"})]}),alert&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"alert alert-primary\",children:alert}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(form_FormSignIn,{onSubmit:login,loading:loading}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:AuthRouteName[\"a\" /* AuthRouteName */].REGISTER,className:\"btn btn-white btn-block\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"text-primary\",children:\"Register\"})})]});};/* harmony default export */ var signIn_SignIn = __webpack_exports__[\"default\"] = (SignIn_SignIn);\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/home/lucas/lucas/gopress/src/components/Button.tsx","/home/lucas/lucas/gopress/src/services/auth.ts","/home/lucas/lucas/gopress/src/components/form/FormSignIn.tsx","/home/lucas/lucas/gopress/src/pages/auth/signIn/SignIn.tsx"],"names":["Button","type","className","onClick","loading","children","disabled","Action","height","signIn","data","axios","post","signUp","me","get","schema","Yup","shape","email","min","max","required","password","FormSignIn","onSubmit","initialValues","values","action","SignIn","useAuth","setUser","useState","setLoading","alert","setAlert","login","value","then","res","setTokenAuthorization","token","resetForm","finally","catch","err","console","log","response","message","AuthRouteName","REGISTER"],"mappings":"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","file":"x","sourcesContent":["import React from \"react\";\nimport { Spinner } from \"reactstrap\";\n\ninterface IProps {\n  type?: \"button\" | \"submit\" | \"reset\" | undefined;\n  className?: string;\n  onClick?: () => void;\n  loading?: boolean;\n  disabled?: boolean;\n}\n\nconst Button: React.FC<IProps> = ({\n  type = \"button\",\n  className,\n  onClick,\n  loading = false,\n  children,\n  disabled = false,\n}) => {\n  function Action() {\n    if (!loading && onClick) {\n      onClick();\n    }\n  }\n  return (\n    <button\n      type={type}\n      className={\"btn btn-primary \" + className}\n      onClick={Action}\n      disabled={loading || disabled}\n    >\n      {loading ? (\n        <div\n          className=\"d-flex justify-content-center align-items-center\"\n          style={{ height: 20 }}\n        >\n          <Spinner color=\"white\" size=\"sm\" />\n        </div>\n      ) : (\n        <div>{children}</div>\n      )}\n    </button>\n  );\n};\n\nexport default Button;\n","import axios from \"axios\";\nimport { IUser } from \"../alias/IUser\";\n\nexport const signIn = (data: IUser) => axios.post(\"/auth/sign-in\", data);\n\nexport const signUp = (data: IUser) => axios.post(\"/auth/sign-up\", data);\n\nexport const me = () => axios.get(\"/auth/me\");\n","import React from \"react\";\nimport { Formik, Form, Field, ErrorMessage, FormikHelpers } from \"formik\";\nimport * as Yup from \"yup\";\nimport Button from \"../Button\";\nimport { IUser } from \"../../alias/IUser\";\n\nconst schema = Yup.object().shape({\n  email: Yup.string().email().min(4).max(150).required(),\n  password: Yup.string().min(4).max(150).required(),\n});\n\ninterface IProps {\n  onSubmit(value: IUser, action: FormikHelpers<IUser>): void;\n  loading: boolean;\n}\n\nconst FormSignIn: React.FC<IProps> = ({ onSubmit, loading }) => {\n  const initialValues: IUser = {\n    email: \"lucasdecarvalho13@hotmail.com\",\n    password: \"123123\",\n  };\n\n  return (\n    <Formik\n      initialValues={initialValues}\n      validationSchema={schema}\n      onSubmit={(values, action: FormikHelpers<IUser>) => {\n        onSubmit(values, action);\n      }}\n    >\n      <Form>\n        <div className=\"form-group\">\n          <label htmlFor=\"emailInput\">Email address</label>\n          <Field\n            name=\"email\"\n            data-testid=\"email\"\n            type=\"email\"\n            className=\"form-control\"\n            id=\"emailInput\"\n            placeholder=\"Enter email\"\n          />\n          <small className=\"form-text text-danger\">\n            <ErrorMessage name=\"email\" />\n          </small>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"passwordInput\">Password</label>\n          <Field\n            name=\"password\"\n            data-testid=\"password\"\n            type=\"password\"\n            className=\"form-control\"\n            id=\"passwordInput\"\n            placeholder=\"Enter password\"\n          />\n          <small className=\"form-text text-danger\">\n            <ErrorMessage name=\"password\" />\n          </small>\n        </div>\n        <Button type=\"submit\" loading={loading} className=\"btn-block mt-4 mb-3\">\n          Submit\n        </Button>\n      </Form>\n    </Formik>\n  );\n};\n\nexport default FormSignIn;\n","import { FormikHelpers } from \"formik\";\nimport React, { useState } from \"react\";\nimport { IUser } from \"../../../alias/IUser\";\nimport { useAuth } from \"../../../contexts/AuthContext\";\nimport FormSignIn from \"../../../components/form/FormSignIn\";\nimport { Link } from \"react-router-dom\";\nimport { AuthRouteName } from \"../../../routes/AuthRouteName\";\nimport { me, signIn } from \"../../../services/auth\";\nimport { setTokenAuthorization } from \"../../../helpers/authToken\";\n\nconst SignIn: React.FC = () => {\n  const { setUser } = useAuth();\n  const [loading, setLoading] = useState(false);\n  const [alert, setAlert] = useState(\"\");\n\n  function login(value: IUser, action: FormikHelpers<IUser>) {\n    setLoading(true);\n    signIn(value)\n      .then((res) => {\n        setTokenAuthorization(res.data.token);\n        me()\n          .then((res) => {\n            action.resetForm();\n            setUser(res.data);\n          })\n          .finally(() => {\n            setLoading(false);\n          });\n      })\n      .catch((err) => {\n        console.log(err);\n        setAlert(err.response.data.message);\n        setLoading(false);\n      });\n  }\n\n  return (\n    <>\n      <div className=\"d-flex flex-column justify-content-center align-items-center\">\n        <div className=\"mb-2\">\n          Welcome to <span className=\"text-primary\">GoPress</span>\n        </div>\n        <div className=\"h4 mb-3\">Sign In</div>\n      </div>\n      {alert && <div className=\"alert alert-primary\">{alert}</div>}\n      <FormSignIn onSubmit={login} loading={loading} />\n      <Link to={AuthRouteName.REGISTER} className=\"btn btn-white btn-block\">\n        <div className=\"text-primary\">Register</div>\n      </Link>\n    </>\n  );\n};\n\nexport default SignIn;\n"]}}